<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oil & Gas Industry Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#00bcd4; --glass: rgba(255,255,255,0.03);
      --success:#16a34a; --danger:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial; background:linear-gradient(180deg,#061021 0%, #071428 100%); color:#dbe7f0;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .container{max-width:1200px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;gap:16px;margin-bottom:20px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#4dd0e1);display:flex;align-items:center;justify-content:center;color:#04202a;font-weight:700;font-size:18px}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    /* cards grid */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 20px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.02)}
    .stat-card{grid-column:span 3;min-height:84px;display:flex;flex-direction:column;justify-content:center}
    .stat-title{font-size:12px;color:var(--muted)}
    .stat-value{font-size:20px;font-weight:700;margin-top:6px}

    /* charts */
    .chart-card{grid-column:span 8;padding:18px}
    .side-card{grid-column:span 4;padding:18px}
    .full-card{grid-column:1/-1;padding:18px}

    /* controls */
    .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    select,input[type=range]{background:var(--glass);border:1px solid rgba(255,255,255,0.03);color:inherit;padding:8px;border-radius:8px}
    button{background:linear-gradient(90deg,var(--accent),#4dd0e1);border:none;padding:8px 12px;border-radius:8px;color:#04202a;font-weight:600;cursor:pointer}
    .muted{color:var(--muted);font-size:13px}
    footer{color:var(--muted);margin-top:18px;font-size:13px}

    @media (max-width:900px){
      .stat-card{grid-column:span 6}
      .chart-card{grid-column:span 12}
      .side-card{grid-column:span 12}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">OG</div>
      <div>
        <h1>Oil &amp; Gas Industry Dashboard — Static</h1>
        <p class="lead">Interactive static site with sample data, charts and export tools. Replace the sample data with your own CSV/JSON to display real metrics.</p>
      </div>
    </header>

    <section class="grid" style="margin-bottom:12px">
      <div class="card stat-card">
        <div class="stat-title">Total Production (MMbbl)</div>
        <div id="totalProduction" class="stat-value">—</div>
        <div class="muted">Year-to-date</div>
      </div>

      <div class="card stat-card">
        <div class="stat-title">Average Oil Price (USD)</div>
        <div id="avgPrice" class="stat-value">—</div>
        <div class="muted">Brent — Monthly average</div>
      </div>

      <div class="card stat-card">
        <div class="stat-title">Active Rigs</div>
        <div id="activeRigs" class="stat-value">—</div>
        <div class="muted">Operational rigs this month</div>
      </div>

      <div class="card stat-card">
        <div class="stat-title">Estimated Reserves (Bboe)</div>
        <div id="reserves" class="stat-value">—</div>
        <div class="muted">Proven</div>
      </div>
    </section>

    <section class="grid" style="align-items:start">
      <div class="card chart-card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
          <div>
            <strong>Production & Price (Monthly)</strong>
            <div class="muted">Compare barrels produced vs average price</div>
          </div>
          <div class="controls">
            <label class="muted">Year</label>
            <select id="yearSelect"></select>
            <button id="exportCsv">Export CSV</button>
          </div>
        </div>
        <canvas id="productionChart" height="300"></canvas>
      </div>

      <div class="card side-card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
          <div>
            <strong>Revenue by Segment</strong>
            <div class="muted">Upstream / Midstream / Downstream</div>
          </div>
          <div class="muted">USD millions</div>
        </div>
        <canvas id="revenueChart" height="160"></canvas>

        <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">
        <strong>Reserves Mix</strong>
        <div class="muted" style="margin-bottom:8px">Crude, Natural Gas, Condensates</div>
        <canvas id="reservesChart" height="120"></canvas>
      </div>

      <div class="card full-card">
        <strong>Data Table (sample)</strong>
        <div class="muted" style="margin:8px 0 12px">Monthly sample dataset used for charts. Use the Export CSV button to download.</div>
        <div style="overflow:auto;max-height:220px;border-radius:8px;padding:6px;background:rgba(255,255,255,0.01)">
          <table id="dataTable" style="width:100%;border-collapse:collapse;font-size:13px">
            <thead style="position:sticky;top:0;background:transparent;color:var(--muted)">
              <tr>
                <th style="text-align:left;padding:8px">date</th>
                <th style="text-align:right;padding:8px">production_mmbl</th>
                <th style="text-align:right;padding:8px">price_usd</th>
                <th style="text-align:right;padding:8px">upstream_rev</th>
                <th style="text-align:right;padding:8px">midstream_rev</th>
                <th style="text-align:right;padding:8px">downstream_rev</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <footer>Static demo • Charts powered by Chart.js • Replace <code>sampleData</code> in the script with your dataset</footer>
  </div>

  <script>
    // ---------- SAMPLE DATA ----------
    // This is a compact sample dataset covering 2023-2024 monthly values. Replace with your own data (CSV/JSON).
    const sampleData = [
      // date, production_mmbl, price_usd, upstream_rev_m, midstream_rev_m, downstream_rev_m, rigs_active
      ["2023-01", 120.5, 82.1, 1800, 420, 1300, 230],
      ["2023-02", 118.7, 85.4, 1750, 410, 1250, 228],
      ["2023-03", 125.3, 86.0, 1900, 430, 1400, 235],
      ["2023-04", 130.1, 79.2, 1950, 440, 1350, 240],
      ["2023-05", 128.9, 76.5, 1920, 438, 1340, 238],
      ["2023-06", 135.0, 74.3, 2050, 460, 1420, 245],
      ["2023-07", 138.3, 78.1, 2100, 465, 1450, 247],
      ["2023-08", 140.2, 81.5, 2150, 470, 1470, 250],
      ["2023-09", 136.8, 83.2, 2080, 468, 1430, 246],
      ["2023-10", 132.5, 86.8, 2020, 455, 1390, 243],
      ["2023-11", 129.7, 90.1, 1980, 450, 1360, 241],
      ["2023-12", 134.6, 92.5, 2070, 462, 1425, 246],

      ["2024-01", 137.0, 94.2, 2100, 470, 1460, 248],
      ["2024-02", 139.1, 88.5, 2150, 475, 1480, 252],
      ["2024-03", 142.6, 91.3, 2200, 480, 1500, 255],
      ["2024-04", 140.9, 89.0, 2180, 478, 1490, 253],
      ["2024-05", 145.3, 95.4, 2250, 490, 1520, 258],
      ["2024-06", 148.0, 101.2, 2300, 500, 1550, 262],
      ["2024-07", 150.5, 102.8, 2350, 505, 1575, 264],
      ["2024-08", 149.2, 100.4, 2320, 502, 1560, 263],
      ["2024-09", 147.8, 98.0, 2290, 498, 1540, 261],
      ["2024-10", 144.9, 96.6, 2240, 492, 1510, 259],
      ["2024-11", 141.2, 95.0, 2180, 488, 1470, 256],
      ["2024-12", 143.9, 97.1, 2220, 495, 1495, 258]
    ];
 

    // ---------- UTILITIES ----------
    const parseYear = d => d.split('-')[0];

    // Build list of available years automatically
    const years = Array.from(new Set(sampleData.map(r => parseYear(r[0])))).sort();
    const yearSelect = document.getElementById('yearSelect');
     
    years.forEach(y => {
      const opt = document.createElement('option'); opt.value = y; opt.textContent = y; yearSelect.appendChild(opt);
    });
    yearSelect.value = years[years.length-1];

    

    // DOM references for stats
    const totalProductionEl = document.getElementById('totalProduction');
    const avgPriceEl = document.getElementById('avgPrice');
    const activeRigsEl = document.getElementById('activeRigs');
    const reservesEl = document.getElementById('reserves');

      

    // table body
    const tableBody = document.getElementById('tableBody');



    // Helper to compute aggregates for a given year
    function aggregatesForYear(year){
      const rows = sampleData.filter(r => parseYear(r[0]) === String(year));
      const totalProd = rows.reduce((s,r)=>s + r[1],0);
      const avgPrice = rows.length ? (rows.reduce((s,r)=>s + r[2],0) / rows.length) : 0;
      const rigs = rows.length ? Math.round(rows[rows.length-1][6]) : 0; // last month rigs
      const reserves = 24.7; // dummy static reserves value (Bboe) - replace as needed
      return {rows,totalProd,avgPrice,rigs,reserves};
    }

    // ---------- CHARTS ----------
    const productionCtx = document.getElementById('productionChart');
    const revenueCtx = document.getElementById('revenueChart');
    const reservesCtx = document.getElementById('reservesChart');

    const timelineChart = new Chart(productionCtx, {
  type: 'line',
  data: {
    datasets: [
      {
        label: "Oil Price (USD)",
        data: [
          { x: "2024-01-01", y: 82 },
          { x: "2024-02-01", y: 85 },
          { x: "2024-03-01", y: 90 },
          { x: "2024-04-01", y: 88 },
          { x: "2024-05-01", y: 94 }
        ],
        borderWidth: 2,
        tension: 0.3
      }
    ]
  },
  options: {
    //responsive: true,
    //maintainAspectRatio: false,
    scales: {
      x: {
        type: 'time',
        time: {
          unit: 'month'   // day | week | month | year
        }
      },
      y: {
        beginAtZero: false
      }
    }
  }
});

   
  </script>
</body>
</html>
